

USE SENAI_PW;

CREATE TABLE CLIENTE(
    ID INT NOT NULL auto_increment,
    NOME VARCHAR(100) NOT NULL,
    IDADE SMALLINT NULL,
    CPF BIGINT NOT NULL UNIQUE,
    PRIMARY KEY(ID)
);

CREATE TABLE FUNCIONARIO(
	ID INT NOT NULL auto_increment,
    NOME VARCHAR(100) NOT NULL,
    IDADE SMALLINT NULL,
    CPF BIGINT NOT NULL UNIQUE,
    PRIMARY KEY(ID)
);

CREATE TABLE PRODUTO(
    ID INT NOT NULL auto_increment,
    NOME VARCHAR(100) NOT NULL,
    QUANTIDADE INT NULL DEFAULT 1,
    VALOR NUMERIC(9,2) NOT NULL,
    PRIMARY KEY(ID)
);

CREATE TABLE VENDAS(
    ID INT NOT NULL auto_increment,
    ID_CLIENTE INT NOT NULL,
    ID_FUNCIONARIO INT NOT NULL,
    ID_PRODUTO INT NOT NULL,
    QUANTIDADE INT NULL DEFAULT 1,
    VALOR NUMERIC(9,2) NOT NULL,
    data DATE default current_timestamp(),
    PRIMARY KEY(ID),
    CONSTRAINT FK_VENDAS_CLIENTE FOREIGN KEY(ID_CLIENTE)
    REFERENCES CLIENTE(ID),
    CONSTRAINT FK_VENDAS_ID_PRODUTO FOREIGN KEY(ID_PRODUTO)
    REFERENCES PRODUTO(ID),
    CONSTRAINT FK_VENDAS_FUNCIONARIO FOREIGN KEY(ID_FUNCIONARIO)
    REFERENCES FUNCIONARIO(ID)
);